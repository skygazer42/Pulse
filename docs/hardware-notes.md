# 硬件与软件差异记录模板

> 按设备型号填写，保持信息最新；遇到问题请记录“现象/原因/解决”三栏，便于复现与回溯。

## 记录表
| 字段 | 内容 |
| --- | --- |
| 设备型号 | 例：昇腾 910B / 摩尔线程 S4000 |
| 驱动版本 | 例：CANN 8.0.RC1 / MT-HIP 2.0.x |
| 固件版本 | 例：A2.x.x |
| 内核与 OS | 例：Ubuntu 22.04, 5.15 内核 |
| 关键库 | 例：torch 2.2.* + torch_npu，flash-attn 分支 |
| 编译器 | 例：gcc 9 / clang 16 |
| 已知限制 | 例：特定算子降级、最大 batch 限制 |
| 诊断命令 | 例：`npu-smi info` / `mt-smi list` |
| 参考文档 | 官网链接或内部 Wiki |

## 常见问题示例
- 显存占用异常：检查 mixed precision / gradient checkpointing 设置。
- 算子不支持：尝试降低精度或开启算子替换开关；记录替换列表。
- 通信相关性能抖动：核对 NIC 固件与 L1/L2 拓扑，评估需要的绑核与 NUMA 亲和策略。
