# 常见问题与排查指南（占位）

> 将实际遇到的问题按“现象-诊断-解决”补充到表格，保持可追溯。

| 类别 | 现象 | 诊断步骤 | 可能原因 | 解决方案 |
| --- | --- | --- | --- | --- |
| 驱动/设备 | `npu-smi` 无输出 | `dmesg`, `lsmod`, `systemctl status driver` | 驱动未加载 / 固件不匹配 | 重装驱动或升级固件；重启服务 |
| 运行时 | 启动报算子不支持 | 查日志算子名，核对白名单 | CANN/MT-HIP 版本不符 | 升级运行时或开启算子替换/降级 |
| 性能 | 吞吐抖动大 | `htop`, `numactl --hardware`, profiler | NUMA 绑核缺失 / IO 争用 | 绑核与 NUMA，独占磁盘或关闭干扰服务 |
| 内存 | OOM / 溢出 | `dmesg`, profiler 显存/内存曲线 | batch 过大 / 激活占用高 | 降低 batch，开启 checkpointing/量化 |
| 通信 | HCCL/NCCL 超时 | 检查网卡状态、`ifconfig`, `dmesg` | NIC 固件/驱动不匹配；多播/防火墙 | 升级驱动，放行端口，固定 IB 卡速率 |

### 记录模板
- 发生时间：
- 硬件 & 版本：
- 运行指令：
- 错误日志片段：
- 诊断结论：
- 解决方案：
- 关联 commit / 配置：***

补充建议：
- 记录问题发生的版本、配置文件与数据路径，便于复现。
- 对关键错误码给出短链或内部文档引用。
